; ==============================================================================
; PlatformIO Project Configuration File
; ==============================================================================
;
; Configuration for ESP32-S3 Drone Sensor & Camera System
;
; This file configures the build environment, library dependencies, and
; compilation settings for the PlatformIO build system.
;
; Documentation: https://docs.platformio.org/page/projectconf.html
;
; Project Requirements:
;   - ESP32-S3 with PSRAM (minimum 2MB)
;   - PlatformIO Core or PlatformIO IDE
;   - USB-to-Serial drivers for ESP32-S3
;
; ==============================================================================

[env:esp32-s3-devkitc-1]
; ------------------------------------------------------------------------------
; Platform and Framework Configuration
; ------------------------------------------------------------------------------
platform = espressif32          ; ESP32 platform (includes ESP32-S3 support)
board = esp32-s3-devkitc-1      ; Official ESP32-S3 DevKit C-1 board definition
framework = arduino             ; Use Arduino framework for easier development

; ------------------------------------------------------------------------------
; Serial Monitor Configuration
; ------------------------------------------------------------------------------
; Match the Serial.begin() baud rate in main.cpp
monitor_speed = 115200

; Prevent serial monitor from triggering bootloader mode
; This avoids unwanted resets when opening the serial monitor
monitor_rts = 0                 ; Don't toggle RTS (Request To Send)
monitor_dtr = 0                 ; Don't toggle DTR (Data Terminal Ready)

; ------------------------------------------------------------------------------
; Library Dependencies
; ------------------------------------------------------------------------------
; External libraries required by the project
; PlatformIO will automatically download and install these
lib_deps = 
	mikalhart/TinyGPSPlus					; GPS NMEA sentence parser
	adafruit/Adafruit BMP280 Library		; BMP280 barometric sensor driver
	espressif/esp32-camera					; ESP32 camera driver for OV7670
	bblanchon/ArduinoJson@^7.4.2

; ------------------------------------------------------------------------------
; Build Configuration
; ------------------------------------------------------------------------------
; Compiler flags and board-specific settings
build_flags = 
    -DBOARD_HAS_PSRAM              ; Enable PSRAM support (required for camera)
    -DCORE_DEBUG_LEVEL=5           ; Maximum debug output (0-5, 5=verbose)

; Memory configuration for ESP32-S3
; QIO+OPI mode provides optimal PSRAM performance
board_build.arduino.memory_type = qio_opi

; USB configuration
; Disable CDC-on-boot to use native USB for Serial communication
board_build.arduino.usb_cdc_on_boot = 0
board_build.arduino.usb_mode = 0
